<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--Blue Ararainha by JegueBauer Pvnll98 & gitmao-->
<!-- Ararinha azul em perigo-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Jogo</title>
</head>
<body onLoad='init()' onKeyDown='entrada(window.event.keyCode)' style="background-image: url('images/fundo.jpg');background-repeat: no-repeat;">
    <canvas id="meuCanvas" width=900 height=636>
        Seu navegador não suporta este recurso
    </canvas>
</body>
</html>
<script Language="JavaScript">
	s1frame = 0;
	var pZombie = {
		altura:64,
		largura:64,
		posx:300,
		posy:300,
		csprite:new Image()
	};
    var pAlien = {
        altura:57,
        largura:57,
        posx:200,
        posy:200,
        csprite:new Image()
    };
    

    var vplayer = 0;
	pZombie.csprite.src = 'images/zombie.png';
	pAlien.csprite.src = 'images/alien.png';
	
    var pz = [0,64,128,192,256,320];
	
    var pa = [0,57,114,171,228,285,342,399,456];
    
	var crop = [0,0];
    var cropz = [0,0];
	var animst = 0;
    var animstz = 0;
    
	
	function init(){
        
		canvas = document.getElementById("meuCanvas");
		ctx = canvas.getContext("2d");
		setInterval( update, 50);
	}
	//Executado +- 30 vezes por segundo
	function update(){
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		
        if(pAlien.posx < 20){
            pAlien.posx = 20.5;
        }
        if(pAlien.posy < 25){
            pAlien.posy = 25.5;
        }
        if(pAlien.posx > 797){
            pAlien.posx = 796.5;
        }
        if(pAlien.posy > 535){
            pAlien.posy = 534.5;
        }  
        
        if(pZombie.posx < 20){
            pZombie.posx = 20.5;
        }
        if(pZombie.posy < 25){
            pZombie.posy = 25.5;
        }
        if(pZombie.posx > 790){
            pZombie.posx = 789.5;
        }
        if(pZombie.posy > 528){
            pZombie.posy = 527.5;
        }  
        

        ctx.drawImage(pAlien.csprite,crop[0],crop[1],pAlien.largura,pAlien.altura,pAlien.posx,pAlien.posy,pAlien.largura,pAlien.altura);

        ctx.drawImage(pZombie.csprite,cropz[0],cropz[1],pZombie.largura,pZombie.altura,pZombie.posx,pZombie.posy,pZombie.largura,pZombie.altura);

        
	}		
		  
	//Direções Movimentos
	function entrada(direction){

		//Cima = 87 - 38 | Baixo = 83 - 40
		if(direction == 38){
			pAlien.posy = pAlien.posy - 10;
			animst = animst + 1;
			if(animst > 3){
			animst = 0
			}
			crop[0] = pa[animst];
			crop[1] = pa[3];            
		}
		if(direction == 40){
			pAlien.posy = pAlien.posy + 10;
			animst = animst + 1;
			if(animst > 3){
			animst = 0
			}
			crop[0] = pa[animst];
			crop[1] = pa[0];           
		}
		//Esquerda = 65 - 37 | Direita = 68 - 39
		if(direction == 37){
            pAlien.posx = pAlien.posx - 10;
			animst = animst + 1;
			if(animst > 3){
			animst = 0
			}
			crop[0] = pa[animst];
			crop[1] = pa[1];            
            
		}
		if(direction == 39){
			pAlien.posx = pAlien.posx + 10;
			animst = animst + 1;
			if(animst > 3){
			animst = 0
			}
			crop[0] = pa[animst];
			crop[1] = pa[6];            
		}        
        //---------------- ZOMBIE
        if(direction == 87){
			pZombie.posy = pZombie.posy - 10;
			animstz = animstz + 1;
			if(animstz > 5){
			animstz = 0;
			}
			cropz[0] = pz[animstz];
			cropz[1] = pz[3];            
		}
		if(direction == 83){
			pZombie.posy = pZombie.posy + 10;
			animstz = animstz + 1;
			if(animstz > 5){
			animstz = 0;
			}
			cropz[0] = pz[animstz];
			cropz[1] = pz[0];            
		}
		//Esquerda = 65 - 37 | Direita = 68 - 39
		if(direction == 65){
            pZombie.posx = pZombie.posx - 10;
			animstz = animstz + 1;
			if(animstz > 5){
			animstz = 0;
			}
			cropz[0] = pz[animst];
			cropz[1] = pz[2];            
            
		}
		if(direction == 68){
			pZombie.posx = pZombie.posx + 10;
			animstz = animstz + 1;
			if(animstz > 5){
			animstz = 0;
			}
			cropz[0] = pz[animstz];
			cropz[1] = pz[1];            
		}
        var fodac = 0;
        // 114 - R | 120 - X6
        if(direction == 114){
            fodac = 1;
        }
        if(direction == 120){
            fodac = 1;
        }
	}
	</script>
